{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = require('react-intl');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _bind = require('classnames/bind');\n\nvar _bind2 = _interopRequireDefault(_bind);\n\nvar _input = require('../input');\n\nvar _input2 = _interopRequireDefault(_input);\n\nvar _dropdown = require('../dropdown');\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nvar _messages = require('../select/messages');\n\nvar _messages2 = _interopRequireDefault(_messages);\n\nvar _style = require('./style.css');\n\nvar _style2 = _interopRequireDefault(_style);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar cx = _bind2.default.bind(_style2.default);\n\nvar SelectMultiple = function SelectMultiple(_ref) {\n  var intl = _ref.intl,\n      input = _ref.input,\n      fields = _ref.fields,\n      options = _ref.options,\n      searchable = _ref.searchable,\n      autosize = _ref.autosize,\n      placeholder = _ref.placeholder,\n      rest = _objectWithoutProperties(_ref, ['intl', 'input', 'fields', 'options', 'searchable', 'autosize', 'placeholder']);\n\n  var selectedItems = fields.getAll() || [];\n  return _react2.default.createElement('div', {\n    className: cx('xsui-select')\n  }, _react2.default.createElement(_dropdown2.default, {\n    appearance: 'secondary',\n    options: options.map(function (item) {\n      return _extends({}, item, {\n        active: selectedItems.includes(item.value)\n      });\n    }),\n    value: input.value || null,\n    size: rest.size,\n    searchable: searchable,\n    autosize: autosize,\n    fullWidth: true,\n    autohide: false,\n    separated: false,\n    onChange: function onChange(value) {\n      selectedItems.includes(value) ? fields.remove(selectedItems.indexOf(value)) : fields.push(value);\n    }\n  }, _react2.default.createElement(_input2.default, _extends({}, rest, {\n    input: {\n      name: input.name || rest.name,\n      value: options.length > 0 ? selectedItems.map(function (value) {\n        var option = options.find(function (option) {\n          return option.value === value;\n        });\n\n        if (!option) {\n          return null;\n        }\n\n        return option.label;\n      }).join(', ') : '',\n      onChange: function onChange() {\n        return void 0;\n      }\n    },\n    offset: 'right',\n    icon: 'dropdown-select',\n    placeholder: placeholder || intl.formatMessage(_messages2.default.placeholder),\n    readOnly: true\n  }))));\n};\n\nSelectMultiple.propTypes = {\n  intl: _reactIntl.intlShape,\n  input: _propTypes2.default.object,\n  fields: _propTypes2.default.object,\n  meta: _propTypes2.default.shape({\n    touched: _propTypes2.default.bool,\n    error: _propTypes2.default.any\n  }),\n  name: _propTypes2.default.string,\n  options: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    tag: _propTypes2.default.string,\n    label: _propTypes2.default.string.isRequired,\n    description: _propTypes2.default.any,\n    color: _propTypes2.default.string,\n    icon: _propTypes2.default.string,\n    onClick: _propTypes2.default.func\n  })),\n  size: _propTypes2.default.oneOf(['xs', 'sm', 'md']),\n  placeholder: _propTypes2.default.string,\n  searchable: _propTypes2.default.bool,\n  autosize: _propTypes2.default.bool,\n  disabled: _propTypes2.default.bool\n};\nSelectMultiple.defaultProps = {\n  input: {},\n  fields: {},\n  meta: {\n    touched: false,\n    error: null\n  },\n  size: 'md',\n  options: [],\n  searchable: false,\n  autosize: false,\n  disabled: false\n};\nexports.default = (0, _reactIntl.injectIntl)(SelectMultiple);","map":null,"metadata":{},"sourceType":"script"}