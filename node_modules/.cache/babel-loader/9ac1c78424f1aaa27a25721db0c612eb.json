{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bpfrpt_proptype_DatePickerProps = exports.bpfrpt_proptype_DatePickerType = exports.bpfrpt_proptype_PeriodValueType = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = require('react-intl');\n\nvar _reactDayPicker = require('react-day-picker');\n\nvar _reactDayPicker2 = _interopRequireDefault(_reactDayPicker);\n\nvar _moment = require('react-day-picker/moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _bind = require('classnames/bind');\n\nvar _bind2 = _interopRequireDefault(_bind);\n\nvar _classNames = require('./classNames');\n\nvar _classNames2 = _interopRequireDefault(_classNames);\n\nvar _navbar = require('./navbar');\n\nvar _navbar2 = _interopRequireDefault(_navbar);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _utils = require('../utils');\n\nvar _style = require('./style.css');\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _yearMonthPicker = require('./year-month-picker');\n\nvar _yearMonthPicker2 = _interopRequireDefault(_yearMonthPicker);\n\nvar _types = require('./types');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar bpfrpt_proptype_PeriodValueType = {\n  from: function from() {\n    return (typeof Date === 'function' ? _propTypes2.default.instanceOf(Date) : _propTypes2.default.any).apply(this, arguments);\n  },\n  to: function to() {\n    return (typeof Date === 'function' ? _propTypes2.default.instanceOf(Date) : _propTypes2.default.any).apply(this, arguments);\n  }\n};\nvar bpfrpt_proptype_DatePickerType = {\n  initialMonth: function initialMonth() {\n    return (typeof Date === 'function' ? _propTypes2.default.instanceOf(Date) : _propTypes2.default.any).apply(this, arguments);\n  },\n  numberOfMonths: _propTypes2.default.number,\n  selectedDays: _propTypes2.default.any,\n  disabledDays: _propTypes2.default.any,\n  modifiers: _propTypes2.default.any,\n  timePicker: function timePicker() {\n    return (typeof React$Node === 'function' ? _propTypes2.default.instanceOf(React$Node) : _propTypes2.default.any).apply(this, arguments);\n  },\n  monthPicker: function monthPicker() {\n    return (typeof _yearMonthPicker2.default === 'function' ? _propTypes2.default.instanceOf(_yearMonthPicker2.default) : _propTypes2.default.any).apply(this, arguments);\n  },\n  captionElement: function captionElement() {\n    return (typeof React$Element === 'function' ? _propTypes2.default.instanceOf(React$Element) : _propTypes2.default.any).apply(this, arguments);\n  },\n  footer: function footer() {\n    return (typeof React$Node === 'function' ? _propTypes2.default.instanceOf(React$Node) : _propTypes2.default.any).apply(this, arguments);\n  },\n  actions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    label: _propTypes2.default.string,\n    forceAlignRight: _propTypes2.default.bool,\n    onClick: _propTypes2.default.func\n  }).isRequired),\n  onDayClick: _propTypes2.default.func,\n  onDayMouseEnter: _propTypes2.default.func,\n  disabledMinutes: _propTypes2.default.bool\n};\nvar bpfrpt_proptype_DatePickerProps = {\n  initialMonth: function initialMonth() {\n    return (typeof Date === 'function' ? _propTypes2.default.instanceOf(Date) : _propTypes2.default.any).apply(this, arguments);\n  },\n  numberOfMonths: _propTypes2.default.number,\n  selectedDays: _propTypes2.default.any,\n  disabledDays: _propTypes2.default.any,\n  modifiers: _propTypes2.default.any,\n  timePicker: function timePicker() {\n    return (typeof React$Node === 'function' ? _propTypes2.default.instanceOf(React$Node) : _propTypes2.default.any).apply(this, arguments);\n  },\n  monthPicker: function monthPicker() {\n    return (typeof _yearMonthPicker2.default === 'function' ? _propTypes2.default.instanceOf(_yearMonthPicker2.default) : _propTypes2.default.any).apply(this, arguments);\n  },\n  captionElement: function captionElement() {\n    return (typeof React$Element === 'function' ? _propTypes2.default.instanceOf(React$Element) : _propTypes2.default.any).apply(this, arguments);\n  },\n  footer: function footer() {\n    return (typeof React$Node === 'function' ? _propTypes2.default.instanceOf(React$Node) : _propTypes2.default.any).apply(this, arguments);\n  },\n  actions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    label: _propTypes2.default.string,\n    forceAlignRight: _propTypes2.default.bool,\n    onClick: _propTypes2.default.func\n  }).isRequired),\n  onDayClick: _propTypes2.default.func,\n  onDayMouseEnter: _propTypes2.default.func,\n  disabledMinutes: _propTypes2.default.bool,\n  intl: function intl() {\n    return (typeof IntlShape === 'function' ? _propTypes2.default.instanceOf(IntlShape).isRequired : _propTypes2.default.any.isRequired).apply(this, arguments);\n  },\n  position: function position() {\n    return (typeof _types.bpfrpt_proptype_PositionType === 'function' ? _types.bpfrpt_proptype_PositionType : _propTypes2.default.shape(_types.bpfrpt_proptype_PositionType)).apply(this, arguments);\n  },\n  align: function align() {\n    return (typeof _types.bpfrpt_proptype_AlignType === 'function' ? _types.bpfrpt_proptype_AlignType : _propTypes2.default.shape(_types.bpfrpt_proptype_AlignType)).apply(this, arguments);\n  }\n};\n\nvar cx = _bind2.default.bind(_style2.default);\n\nvar alignVerticalDropdown = ['top', 'bottom'];\nvar alignHorizontalDropdown = ['left', 'right'];\n\nvar getAlign = function getAlign(props) {\n  var position = props.position,\n      align = props.align;\n\n  if (position === 'right') {\n    return align && alignVerticalDropdown.includes(align) ? align : 'top';\n  }\n\n  return align && alignHorizontalDropdown.includes(align) ? align : 'right';\n};\n\nvar DatePicker = function (_PureComponent) {\n  _inherits(DatePicker, _PureComponent);\n\n  function DatePicker() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, DatePicker);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = DatePicker.__proto__ || Object.getPrototypeOf(DatePicker)).call.apply(_ref, [this].concat(args))), _this), _this.positionPredetermined = !!_this.props.position, _this.alignPredetermined = !!_this.props.align, _this.state = {\n      position: _this.props.position || 'top',\n      align: getAlign(_this.props)\n    }, _this.determineDropdownPosition = function () {\n      if (!(0, _utils.visibleInPage)(_this.instance)) {\n        _this.togglePosition();\n      }\n    }, _this.togglePosition = function () {\n      var _this$state = _this.state,\n          position = _this$state.position,\n          align = _this$state.align;\n\n      if (position === 'right') {\n        return _this.setState({\n          align: align === 'bottom' ? 'top' : 'bottom'\n        });\n      }\n\n      return _this.setState({\n        position: position === 'top' ? 'bottom' : 'top',\n        align: (0, _utils.needChangeSide)(_this.instance) ? 'left' : 'right'\n      });\n    }, _this.determineAlignPosition = function () {\n      var isNeedChangeSide = (0, _utils.needChangeSide)(_this.instance);\n\n      _this.setState({\n        align: isNeedChangeSide ? 'left' : 'right'\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(DatePicker, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var position = this.state.position;\n\n      if (!this.positionPredetermined || position === 'right' && !this.alignPredetermined) {\n        this.determineDropdownPosition();\n      }\n\n      if (position !== 'right' && !this.alignPredetermined) {\n        this.determineAlignPosition();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          intl = _props.intl,\n          _props$initialMonth = _props.initialMonth,\n          initialMonth = _props$initialMonth === undefined ? new Date() : _props$initialMonth,\n          _props$numberOfMonths = _props.numberOfMonths,\n          numberOfMonths = _props$numberOfMonths === undefined ? 1 : _props$numberOfMonths,\n          timePicker = _props.timePicker,\n          monthPicker = _props.monthPicker,\n          footer = _props.footer,\n          _props$actions = _props.actions,\n          actions = _props$actions === undefined ? [] : _props$actions,\n          rest = _objectWithoutProperties(_props, ['intl', 'initialMonth', 'numberOfMonths', 'timePicker', 'monthPicker', 'footer', 'actions']);\n\n      var privateProps = {\n        navbarElement: monthPicker ? monthPicker : _navbar2.default,\n        localeUtils: _moment2.default,\n        locale: intl.locale,\n        classNames: _classNames2.default,\n        month: !monthPicker ? initialMonth : monthPicker.props.value\n      };\n      return _react2.default.createElement('div', {\n        className: cx('xsui-datepicker__dropdown', 'xsui-datepicker__dropdown--position-' + this.state.position, 'xsui-datepicker__dropdown--align-' + this.state.align),\n        ref: function ref(instance) {\n          return _this2.instance = instance;\n        }\n      }, _react2.default.createElement(_reactDayPicker2.default, _extends({\n        fixedWeeks: true,\n        initialMonth: initialMonth,\n        numberOfMonths: numberOfMonths,\n        onMonthChange: this.determineDropdownPosition,\n        captionElement: monthPicker ? _react2.default.createElement('div', null) : this.props.captionElement\n      }, rest, privateProps)), timePicker, footer && _react2.default.createElement('div', {\n        className: cx('xsui-datepicker__footer')\n      }, footer), !!actions.length && _react2.default.createElement('div', {\n        className: cx('xsui-datepicker__actions')\n      }, actions.filter(function (a) {\n        return a;\n      }).map(function (action, index) {\n        return _react2.default.createElement(_button2.default, {\n          key: 'action--' + index,\n          appearance: 'flatten',\n          onClick: action.onClick,\n          style: action.forceAlignRight ? {\n            marginLeft: 'auto'\n          } : {}\n        }, action.label);\n      })));\n    }\n  }]);\n\n  return DatePicker;\n}(_react.PureComponent);\n\nDatePicker.propTypes = {\n  initialMonth: function initialMonth() {\n    return (typeof Date === 'function' ? _propTypes2.default.instanceOf(Date) : _propTypes2.default.any).apply(this, arguments);\n  },\n  numberOfMonths: _propTypes2.default.number,\n  selectedDays: _propTypes2.default.any,\n  disabledDays: _propTypes2.default.any,\n  modifiers: _propTypes2.default.any,\n  timePicker: function timePicker() {\n    return (typeof React$Node === 'function' ? _propTypes2.default.instanceOf(React$Node) : _propTypes2.default.any).apply(this, arguments);\n  },\n  monthPicker: function monthPicker() {\n    return (typeof _yearMonthPicker2.default === 'function' ? _propTypes2.default.instanceOf(_yearMonthPicker2.default) : _propTypes2.default.any).apply(this, arguments);\n  },\n  captionElement: function captionElement() {\n    return (typeof React$Element === 'function' ? _propTypes2.default.instanceOf(React$Element) : _propTypes2.default.any).apply(this, arguments);\n  },\n  footer: function footer() {\n    return (typeof React$Node === 'function' ? _propTypes2.default.instanceOf(React$Node) : _propTypes2.default.any).apply(this, arguments);\n  },\n  actions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    label: _propTypes2.default.string,\n    forceAlignRight: _propTypes2.default.bool,\n    onClick: _propTypes2.default.func\n  }).isRequired),\n  onDayClick: _propTypes2.default.func,\n  onDayMouseEnter: _propTypes2.default.func,\n  disabledMinutes: _propTypes2.default.bool,\n  intl: function intl() {\n    return (typeof IntlShape === 'function' ? _propTypes2.default.instanceOf(IntlShape).isRequired : _propTypes2.default.any.isRequired).apply(this, arguments);\n  },\n  position: function position() {\n    return (typeof _types.bpfrpt_proptype_PositionType === 'function' ? _types.bpfrpt_proptype_PositionType : _propTypes2.default.shape(_types.bpfrpt_proptype_PositionType)).apply(this, arguments);\n  },\n  align: function align() {\n    return (typeof _types.bpfrpt_proptype_AlignType === 'function' ? _types.bpfrpt_proptype_AlignType : _propTypes2.default.shape(_types.bpfrpt_proptype_AlignType)).apply(this, arguments);\n  }\n};\nexports.default = (0, _reactIntl.injectIntl)(DatePicker);\nexports.bpfrpt_proptype_PeriodValueType = bpfrpt_proptype_PeriodValueType;\nexports.bpfrpt_proptype_DatePickerType = bpfrpt_proptype_DatePickerType;\nexports.bpfrpt_proptype_DatePickerProps = bpfrpt_proptype_DatePickerProps;","map":null,"metadata":{},"sourceType":"script"}